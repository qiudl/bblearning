# BBLearning 生产环境配置
# 域名: bblearning.joylodging.com
# 服务器: 192.144.174.87

# 应用配置
APP_ENV=production
APP_DEBUG=false
SERVER_PORT=8080
SERVER_HOST=0.0.0.0

# 数据库配置
DB_HOST=postgres
DB_PORT=5432
DB_USER=bblearning_prod
DB_PASSWORD=BBLearning2025Prod!SecureDB#
DB_NAME=bblearning_production
DB_SSLMODE=disable

# Redis配置
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=BBLearning2025Redis!Secure#
REDIS_DB=0

# JWT配置（请替换为实际的64字符随机字符串）
JWT_SECRET=7f8a9b2c4d6e1f3a5b7c9d2e4f6a8b1c3d5e7f9a2b4c6d8e1f3a5b7c9d2e4f6a8b
JWT_ACCESS_EXPIRE=3600
JWT_REFRESH_EXPIRE=604800

# API密钥加密主密钥（必需，使用 ./scripts/generate-master-key.sh 生成）
ENCRYPTION_MASTER_KEY=56cff371a9e05720bbc79eb22b5b85e8aca39e8f5b0bc7bc078bf7c303155345

# AI服务配置（DeepSeek）
# 注意：API密钥现在通过数据库加密存储，不再使用环境变量
# 使用 ./bin/apikey -action=add 命令添加密钥
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_MAX_TOKENS=2000
DEEPSEEK_TIMEOUT=30

# MinIO配置
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=bblearning_minio_admin
MINIO_SECRET_KEY=BBLearning2025MinIO!SecureKey#
MINIO_USE_SSL=false
MINIO_BUCKET=bblearning

# CORS配置
CORS_ALLOWED_ORIGINS=https://bblearning.joylodging.com,https://api.bblearning.joylodging.com

# 日志配置
LOG_LEVEL=warn
LOG_FILE_PATH=/var/log/bblearning/
LOG_MAX_SIZE=100
LOG_MAX_BACKUPS=7
LOG_MAX_AGE=30

# 限流配置
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_DURATION=60
